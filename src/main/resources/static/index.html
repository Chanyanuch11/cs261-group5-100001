<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bookstore</title>
    <link rel="stylesheet" href="stylesheet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="index.css" />
</head>

<body>
    <header class="header">
        <div class="header-container">
            <div class="logo">
                <img src="img/logo.png" alt="Bookstore Logo">
            </div>

            <div class="search-bar">
                <input type="text" placeholder="Search" aria-label="Search books">
                <button aria-label="Search"><i class="fa-solid fa-magnifying-glass"></i></button>
            </div>

            <div class="header-cart">
                <a href="cart.html" class="cart" aria-label="Open cart">
                    <img src="img/cart-icon.png" alt="">
                </a>
            </div>

            <div class="header-profile">
                <a href="login.html" class="icon" aria-label="Login">
                    <img src="img/BlankPF.png" alt="">
                </a>
            </div>
        </div>
    </header>

    <!-- Banner-->
    <section id="slider" aria-roledescription="carousel" aria-label="Promotion Slides">
        <h2 class="sr-only">Promotion Slides</h2>
    
        <!-- radios -->
        <input type="radio" name="slider" id="slide1" checked>
        <input type="radio" name="slider" id="slide2">
        <input type="radio" name="slider" id="slide3">
    
        <!-- กล่องสไลด์ตรงกลาง -->
        <div id="slides">
            <div class="inner">
                <article class="slide" aria-label="1 of 3">
                    <img src="img/promotion.png" alt="Promotion 1">
                </article>
                <article class="slide" aria-label="2 of 3">
                    <img src="img/BlankSlide.png" alt="Promotion 2">
                </article>
                <article class="slide" aria-label="3 of 3">
                    <img src="img/BlankSlide.png" alt="Promotion 3">
                </article>
            </div>
        </div>
    
        <!-- แทบซ้าย/ขวา + ปุ่มลูกศร -->
        <div class="rail left">
            <!-- prev targets -->
            <label for="slide3" class="prev p1"></label>
            <label for="slide1" class="prev p2"></label>
            <label for="slide2" class="prev p3"></label>
        </div>
        <div class="rail right">
            <!-- next targets -->
            <label for="slide2" class="next n1"></label>
            <label for="slide3" class="next n2"></label>
            <label for="slide1" class="next n3"></label>
        </div>
    
        <!-- bullets -->
        <div id="bullets">
            <label for="slide1" aria-label="Slide 1"></label>
            <label for="slide2" aria-label="Slide 2"></label>
            <label for="slide3" aria-label="Slide 3"></label>
        </div>
    </section>
    
    <!-- Auto-slide JS  -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const slider = document.getElementById('slider');
            const radios = Array.from(slider.querySelectorAll('input[name="slider"]'));
            if (!radios.length) return;

            let idx = radios.findIndex(r => r.checked);
            if (idx < 0) idx = 0;

            const go = (n) => {
                idx = (n + radios.length) % radios.length;
                radios[idx].checked = true;
            };
            const next = () => go(idx + 1);

            let timer;
            const start = () => { stop(); timer = setInterval(next, 5000); };
            const stop = () => { if (timer) clearInterval(timer); };

            slider.addEventListener('change', (e) => {
                if (e.target.name === 'slider') {
                    idx = radios.indexOf(e.target);
                    start(); // รีเซ็ตเวลาใหม่หลังผู้ใช้กด
                }
            });

            start();
        });
    </script>
</body>

</html>